<!-- HTML CODE SA WEBSITE / GAME -->
<!DOCTYPE html> <!-- Defines the document type and version of HTML -->
<html lang="en"> <!-- Root element of the HTML document, language set to English -->
<head>
    <meta charset="UTF-8" /> <!-- Sets character encoding to UTF-8 -->
    <title>Basic 4x4 Sudoku Game</title> <!-- Title of the webpage shown in browser tab -->
</head>
<body>
    <h1>4x4 Sudoku Game</h1> <!-- Main heading of the page -->
    <p><strong>Instructions</strong></p> <!-- Bolded subheading for instructions -->
    <div class="instructions"> <!-- Container for instructions text -->
        <p>Each cell must have a number from 1 to 4.</p> <!-- Instruction detail -->
        <p>Numbers cannot repeat in any row, column, or 2x2 box.</p> <!-- Instruction detail -->
        <p>Click "Check Solution" to see if you solved it correctly.</p> <!-- Instruction detail -->
    </div>
    <p><strong>Rules</strong></p> <!-- Bolded subheading for rules -->
    <div class="rules"> <!-- Container for rules -->
        <ul>Fill the grid so that each row, column, and 2x2 box contains the numbers 1 to 4 without repeating.</ul> <!-- Rule description -->
    </div>
    <table> <!-- Table to create the Sudoku grid -->
        <tr> <!-- First row -->
            <td><input type="text" id="c1r1" value="1" readonly /></td> <!-- Cell 1,1 with preset value 1, readonly -->
            <td><input type="text" id="c2r1" /></td> <!-- Cell 2,1 editable -->
            <td><input type="text" id="c3r1" value="4" readonly /></td> <!-- Cell 3,1 preset 4, readonly -->
            <td><input type="text" id="c4r1" /></td> <!-- Cell 4,1 editable -->
        </tr>
        <tr> <!-- Second row -->
            <td><input type="text" id="c1r2" /></td> <!-- Cell 1,2 editable -->
            <td><input type="text" id="c2r2" value="3" readonly /></td> <!-- Cell 2,2 preset 3, readonly -->
            <td><input type="text" id="c3r2" /></td> <!-- Cell 3,2 editable -->
            <td><input type="text" id="c4r2" value="2" readonly /></td> <!-- Cell 4,2 preset 2, readonly -->
        </tr>
        <tr> <!-- Third row -->
            <td><input type="text" id="c1r3" value="3" readonly /></td> <!-- Cell 1,3 preset 3, readonly -->
            <td><input type="text" id="c2r3" /></td> <!-- Cell 2,3 editable -->
            <td><input type="text" id="c3r3" value="2" readonly /></td> <!-- Cell 3,3 preset 2, readonly -->
            <td><input type="text" id="c4r3" /></td> <!-- Cell 4,3 editable -->
        </tr>
        <tr> <!-- Fourth row -->
            <td><input type="text" id="c1r4" /></td> <!-- Cell 1,4 editable -->
            <td><input type="text" id="c2r4" value="1" readonly /></td> <!-- Cell 2,4 preset 1, readonly -->
            <td><input type="text" id="c3r4" /></td> <!-- Cell 3,4 editable -->
            <td><input type="text" id="c4r4" value="4" readonly /></td> <!-- Cell 4,4 preset 4, readonly -->
        </tr>
    </table>
    <p>
        <button id="checkBtn">Check Solution</button> <!-- Button to trigger solution check -->
    </p>
    <p>
        <a href="index.html"> <!-- Link to reset the table by reloading the page -->
            <button>Reset the Table</button> <!-- Button inside link for reset -->
        </a>
    </p>

    <p id="result"></p> <!-- Paragraph to display result messages -->

    <div class="game-image"> <!-- Container for game image and message -->
        <p>Good luck solving the puzzle!</p> <!-- Encouragement message -->
        <a href="https://play.google.com/store/apps/details?id=easy.sudoku.puzzle.solver.free&hl=en&pli=1" target="_blank"> <!-- Link to Sudoku app -->
            <img src="4x4sudoku1.jpg" alt="4x4 Sudoku" /> <!-- Image of Sudoku -->
        </a>
    </div>

    <!-- CSS NI SIYA PARA DESIGN SA HTML -->
    <style>
        .instructions {
            text-align: left;  /* Align instructions text to left */
            max-width: 393px;  /* Limit width */
            margin: 0 auto;    /* Center horizontally */
        }
        .instructions p {
            margin: 0;         /* Remove default margin */
            line-height: 1.4;  /* Line spacing */
        }
        .instructions u {
            text-align: center; /* Center underline text if used */
        }

        body {
            text-align: center; /* Center all body content */
            font-family: Arial, sans-serif; /* Set font */
        }
        table {
            margin: 0 auto;    /* Center table */
            border-collapse: collapse; /* Remove gaps between cells */
            font-size: 20px;   /* Font size for table */
        }
        td {
            border: 1px solid black; /* Cell border */
            padding: 10px;           /* Cell padding */
        }
        input {
            width: 30px;         /* Input box width */
            text-align: center;  /* Center text inside input */
            font-size: 18px;     /* Font size inside input */
        }
        .game-image {
            margin: 20px 0;      /* Vertical margin */
        }
        .game-image img {
            max-width: 400px;    /* Max width of image */
            height: auto;        /* Maintain aspect ratio */
            filter: grayscale(100%); /* Make image grayscale */
            border: 1px solid black; /* Border around image */
        }
    </style>

    <script>
        // Select all editable input fields (not readonly)
        const inputs = document.querySelectorAll('input[type="text"]:not([readonly])');
        // Add event listener to restrict input to digits 1-4 only
        inputs.forEach(input => input.addEventListener('input', () => {
            input.value = input.value.replace(/[^1-4]/g, '').slice(0,1); // Remove invalid chars, keep first digit only
        }));

        // Function to check if array has duplicates
        function hasDuplicates(arr) {
            return new Set(arr).size !== arr.length; // Set removes duplicates, compare size to array length
        }

        // Function to check the Sudoku solution
        function checkSolution() {
            const result = document.getElementById('result'); // Get result display element
            let grid = []; // Initialize grid array

            // Loop through rows 1 to 4
            for (let r = 1; r <= 4; r++) {
                let row = []; // Initialize row array
                // Loop through columns 1 to 4
                for (let c = 1; c <= 4; c++) {
                    let val = document.getElementById(`c${c}r${r}`).value.trim(); // Get cell value
                    if (!val) return showError('Fill all cells with 1-4.'); // If empty, show error and stop
                    row.push(val); // Add value to row
                }
                grid.push(row); // Add row to grid
            }

            // Define the four 2x2 boxes as arrays of values
            let boxes = [
                [grid[0][0], grid[0][1], grid[1][0], grid[1][1]], // Top-left box
                [grid[0][2], grid[0][3], grid[1][2], grid[1][3]], // Top-right box
                [grid[2][0], grid[2][1], grid[3][0], grid[3][1]], // Bottom-left box
                [grid[2][2], grid[2][3], grid[3][2], grid[3][3]]  // Bottom-right box
            ];

            // Check each box for duplicates
            for (let box of boxes) {
                if (hasDuplicates(box)) return showError('Duplicates found!.'); // Show error if duplicates exist
            }

            // If no errors, show success message
            result.textContent = 'Congratulations! You solved the puzzle!';
            result.style.color = 'green';

            // Helper function to show error messages
            function showError(msg) {
                result.textContent = msg; // Set error message text
                result.style.color = 'red'; // Set text color to red
            }
        }

        // Add click event listener to "Check Solution" button
        document.getElementById('checkBtn').addEventListener('click', checkSolution);
    </script>
</body>
</html>
